# =============================================================================
# RBAC Agentic AI Chatbot - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your API keys

# =============================================================================
# Python Configuration
# =============================================================================
# Prevent __pycache__ folders from being created
PYTHONDONTWRITEBYTECODE=1

# =============================================================================
# LLM Configuration (Groq)
# =============================================================================
# Get your free API key from: https://console.groq.com
GROQ_API_KEY=your_groq_api_key_here
GROQ_MODEL=llama-3.1-70b-versatile
GROQ_TEMPERATURE=0.0

# =============================================================================
# Embeddings (HuggingFace Inference API)
# =============================================================================
# Get your token from: https://huggingface.co/settings/tokens
# NOTE: Using Inference API to avoid downloading 2GB local models
HUGGINGFACE_API_KEY=your_huggingface_token_here
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# =============================================================================
# Reranker (Jina AI)
# =============================================================================
# Get your free API key from: https://jina.ai/reranker
JINA_API_KEY=your_jina_api_key_here
JINA_MODEL=jina-reranker-v2-base-multilingual

# =============================================================================
# Web Search (Tavily)
# =============================================================================
# Get your free API key from: https://tavily.com (1000 free requests/month)
TAVILY_API_KEY=your_tavily_api_key_here

# =============================================================================
# Weather (Open-Meteo)
# =============================================================================
# No API key required! Open-Meteo is completely free
OPEN_METEO_URL=https://api.open-meteo.com/v1/forecast

# =============================================================================
# RAG Pipeline Configuration
# =============================================================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
VECTOR_TOP_K=20
BM25_TOP_K=20
RRF_K=60
FINAL_TOP_K=3

# =============================================================================
# MCP Server Configuration
# =============================================================================
# MCP server is mounted at /mcp endpoint using Streamable HTTP transport
# All 4 tools (RAG, SQL, Web, Weather) are served from a single MCP server
# No separate URLs needed - the server runs within the FastAPI application

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=sqlite:///./rbac_chatbot.db
CHROMADB_PATH=./chromadb

# =============================================================================
# JWT Authentication
# =============================================================================
# Generate a secure key with: openssl rand -hex 32
JWT_SECRET_KEY=your_super_secret_jwt_key_change_this_in_production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_RAG_CHUNKS=true
LOG_LLM_RESPONSES=true
LOG_TOOL_CALLS=true

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_PER_USER=30  # requests per minute
